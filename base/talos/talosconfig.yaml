# Talos cluster configuration template
# This file contains the base configuration that will be used to generate
# machine-specific configurations during cluster setup.
# 
# IMPORTANT: This is a template file. The actual configurations with secrets
# will be generated by the setup scripts and stored securely.
#
# To use this configuration:
# 1. Run: talosctl gen config kub https://192.168.1.30:6443
# 2. Place generated files in this directory (they're .gitignored for security)
# 3. Use the lifecycle scripts in ../scripts/ to manage the cluster

# Cluster Information
cluster:
  name: kub
  endpoint: https://192.168.1.100:6443  # Update this to your control plane VIP
  
# Network Configuration
network:
  # These are examples - update to match your environment
  controlPlaneSubnet: "192.168.1.0/24"
  podSubnet: "10.244.0.0/16"
  serviceSubnet: "10.96.0.0/12"
  
# Node Configuration
nodes:
  controlPlane:
    # Update these IPs to match your actual control plane nodes
    - ip: "192.168.1.101"
      hostname: "k8s-cp-01"
    - ip: "192.168.1.102" 
      hostname: "k8s-cp-02"
    - ip: "192.168.1.103"
      hostname: "k8s-cp-03"
      
  workers:
    # Update these IPs to match your actual worker nodes
    - ip: "192.168.1.111"
      hostname: "k8s-worker-01"
    - ip: "192.168.1.112"
      hostname: "k8s-worker-02"
    - ip: "192.168.1.113"
      hostname: "k8s-worker-03"
    - ip: "192.168.1.114"
      hostname: "k8s-worker-04"
    - ip: "192.168.1.115"
      hostname: "k8s-worker-05"
    - ip: "192.168.1.116"
      hostname: "k8s-worker-06"

# Features
features:
  cilium: true
  bgp: true
  loadBalancer: true
  monitoring: true
